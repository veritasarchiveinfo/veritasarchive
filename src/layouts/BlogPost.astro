---
import type { CollectionEntry } from 'astro:content';
import Layout from './Layout.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<Layout title={title}>
	<main class="container fade-in" style="padding-top: 8rem; padding-bottom: 4rem;">
		<article style="max-width: 800px; margin: 0 auto;">
			{heroImage && <img width={1020} height={510} src={`${import.meta.env.BASE_URL}/${heroImage.replace(/^\//, '')}`} alt="" style="width: 100%; border: 1px solid var(--border); margin-bottom: 2rem;" />}
            
            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="color: var(--primary); font-family: var(--font-heading); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 1rem;">
                    <time datetime={pubDate.toISOString()}>
                        {pubDate.toLocaleDateString('en-us', {
                            year: 'numeric',
                            month: 'short',
                            day: 'numeric',
                        })}
                    </time>
                </div>
                <h1>{title}</h1>
                <hr style="width: 60px; height: 2px; background: var(--primary); border: none; margin: 2rem auto;" />
            </div>

			<div class="prose">
				<slot />
			</div>
		</article>
	</main>
</Layout>

<style>
    /* Basic markdown styling for the blog content */
    .prose {
        color: var(--muted-foreground);
        font-size: 1.1rem;
        line-height: 1.8;
    }
    .prose :global(p) {
        margin-bottom: 1.5rem;
    }
    .prose :global(h2) {
        margin-top: 3rem;
        margin-bottom: 1.5rem;
    }
    .prose :global(blockquote) {
        border-left: 2px solid var(--primary);
        padding-left: 1.5rem;
        font-style: italic;
        color: var(--foreground);
    }
</style>
